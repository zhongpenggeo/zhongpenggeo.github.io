---
title: 2-5-测线pswiggle
date: 2018-07-14 00:00:00
categories:
- GMT
---
**下列代码没有经过测试**  
```sh
pswiggle all.xys –R185/250/–68/–42 –U"Example 9 in Cookbook" –K –Jm0.13i
–Ba10f5 –G0 –Z2000 –W0.25p –M –S240/–67/500/@~m@~rad > example_09.ps
psxy –R –Jm –O –K ridge.xy –W1.75p >> example_09.ps
psxy –R –Jm –O –K –M fz.xy –W0.5pta >> example_09.ps
REM Plot labels
gawk "{if （NF = 5 ）print $3, $4, 10, 50, 1, 7, $2}" all.xys | pstext –R –Jm
–D–0.05i/–0.05i –O >> example_09.ps
del .gmt*
```
部分命令注释  
- pswiggle 用数据文件（all.zys）绘制测线。
- 文件 all.xys 为区内诸条测线的数据，为多段数据格式（–M）。

> 107 222.267 –66.2309  
–3  
241.434 –56.3094  
0  
241.37 –56.3591  
–50  
241.306 –56.4088  
–104  
…………………  
222.267 –66.2309  
–3  

> 109 204.893 –63.2221 –28  
220.648 –52.6068 0  
220.594 –52.6583 –25  
220.54 –52.7099 360  
…………………  

每一段数据由一行“>”开头的文字和一系列 x、y、z 值组成。文字行包含了测线编号和该测线最后一点的 x、y、z 值。段内每一测点的 x、y、z 值中，x、y为该点经纬度，z 值为该点测值。每一段数据绘制一条测线。–Z2000 为异常下限，z 值超过 2000 的部分着黑色（–G0）。  
文件 ridge.xy 和 fz.xy 分别为区内大洋中脊断层和转换断层的数据。fz.xy 为多段
数据格式（–M）。  

- psxy 第一行 用文件 ridge.xy 的数据来绘制大洋中脊断层  
- psxy 第二行用文件 isochron.xy 的数据来绘制多条转换断层  
- gawk 语言中“NF”为当前输入纪录的字段数。多段数据文件 all.xys 每一段数据开头为一行“>”开头的文字，该行由 5 个字段组成，该行以后的数据行，每行由 3 个字段组成。条件语句 if（NF = 5）逐行检查每行的字段数，每段的首行字段数条件为真时，取第 3、4 号字段数内容为待写字符的起点经纬度，字段数即测线编号为待写字符。


